(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11864,e=>{"use strict";var t=e.i(98319),i=e.i(1593);function s(e,t,i){let s,r=i.initialDeps??[];function n(){var n,a,o,l;let u,h;i.key&&(null==(n=i.debug)?void 0:n.call(i))&&(u=Date.now());let c=e();if(!(c.length!==r.length||c.some((e,t)=>r[t]!==e)))return s;if(r=c,i.key&&(null==(a=i.debug)?void 0:a.call(i))&&(h=Date.now()),s=t(...c),i.key&&(null==(o=i.debug)?void 0:o.call(i))){let e=Math.round((Date.now()-u)*100)/100,t=Math.round((Date.now()-h)*100)/100,s=t/16,r=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c⏱ ${r(t,5)} /${r(e,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*s,120))}deg 100% 31%);`,null==i?void 0:i.key)}return null==(l=null==i?void 0:i.onChange)||l.call(i,s),s}return n.updateDeps=e=>{r=e},n}function r(e,t){if(void 0!==e)return e;throw Error(`Unexpected undefined${t?`: ${t}`:""}`)}e.i(3553);let n=e=>e,a=e=>{let t=Math.max(e.startIndex-e.overscan,0),i=Math.min(e.endIndex+e.overscan,e.count-1),s=[];for(let e=t;e<=i;e++)s.push(e);return s},o={passive:!0},l=(e,t)=>{let i=e.scrollElement;if(!i)return;let s=()=>{t({width:i.innerWidth,height:i.innerHeight})};return s(),i.addEventListener("resize",s,o),()=>{i.removeEventListener("resize",s)}},u="undefined"==typeof window||"onscrollend"in window,h=(e,t)=>{var i,s;let r,n=e.scrollElement;if(!n)return;let a=e.targetWindow;if(!a)return;let l=0,h=e.options.useScrollendEvent&&u?()=>void 0:(i=()=>{t(l,!1)},s=e.options.isScrollingResetDelay,function(...e){a.clearTimeout(r),r=a.setTimeout(()=>i.apply(this,e),s)}),c=i=>()=>{l=n[e.options.horizontal?"scrollX":"scrollY"],h(),t(l,i)},d=c(!0),f=c(!1);f(),n.addEventListener("scroll",d,o);let p=e.options.useScrollendEvent&&u;return p&&n.addEventListener("scrollend",f,o),()=>{n.removeEventListener("scroll",d),p&&n.removeEventListener("scrollend",f)}},c=(e,t,i)=>{if(null==t?void 0:t.borderBoxSize){let e=t.borderBoxSize[0];if(e)return Math.round(e[i.options.horizontal?"inlineSize":"blockSize"])}return e[i.options.horizontal?"offsetWidth":"offsetHeight"]},d=(e,{adjustments:t=0,behavior:i},s)=>{var r,n;null==(n=null==(r=s.scrollElement)?void 0:r.scrollTo)||n.call(r,{[s.options.horizontal?"left":"top"]:e+t,behavior:i})};class f{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null,t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{let t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}):null);return{disconnect:()=>{var i;null==(i=t())||i.disconnect(),e=null},observe:e=>{var i;return null==(i=t())?void 0:i.observe(e,{box:"border-box"})},unobserve:e=>{var i;return null==(i=t())?void 0:i.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,i])=>{void 0===i&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:n,rangeExtractor:a,onChange:()=>{},measureElement:c,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,i;null==(i=(t=this.options).onChange)||i.call(t,this,e)},this.maybeNotify=s(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;let t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{let i=new Map,s=new Map;for(let r=t-1;r>=0;r--){let t=e[r];if(i.has(t.lane))continue;let n=s.get(t.lane);if(null==n||t.end>n.end?s.set(t.lane,t):t.end<n.end&&i.set(t.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=s(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,i,s,r)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:i,getItemKey:s,enabled:r}),{key:!1}),this.getMeasurements=s(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:i,getItemKey:s,enabled:r},n)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));let a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];let o=this.measurementsCache.slice(0,a);for(let r=a;r<e;r++){let e=s(r),a=1===this.options.lanes?o[r-1]:this.getFurthestMeasurement(o,r),l=a?a.end+this.options.gap:t+i,u=n.get(e),h="number"==typeof u?u:this.options.estimateSize(r),c=l+h,d=a?a.lane:r%this.options.lanes;o[r]={index:r,start:l,size:h,end:c,key:e,lane:d}}return this.measurementsCache=o,o},{key:!1,debug:()=>this.options.debug}),this.calculateRange=s(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,i,s)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:i,lanes:s}){let r=e.length-1;if(e.length<=s)return{startIndex:0,endIndex:r};let n=p(0,r,t=>e[t].start,i),a=n;if(1===s)for(;a<r&&e[a].end<i+t;)a++;else if(s>1){let o=Array(s).fill(0);for(;a<r&&o.some(e=>e<i+t);){let t=e[a];o[t.lane]=t.end,a++}let l=Array(s).fill(i+t);for(;n>=0&&l.some(e=>e>=i);){let t=e[n];l[t.lane]=t.start,n--}n=Math.max(0,n-n%s),a=Math.min(r,a+(s-1-a%s))}return{startIndex:n,endIndex:a}}({measurements:e,outerSize:t,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=s(()=>{let e=null,t=null,i=this.calculateRange();return i&&(e=i.startIndex,t=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,i,s,r)=>null===s||null===r?[]:e({startIndex:s,endIndex:r,overscan:t,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{let t=this.options.indexAttribute,i=e.getAttribute(t);return i?parseInt(i,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{let i=this.indexFromElement(e),s=this.measurementsCache[i];if(!s)return;let r=s.key,n=this.elementsCache.get(r);n!==e&&(n&&this.observer.unobserve(n),this.observer.observe(e),this.elementsCache.set(r,e)),e.isConnected&&this.resizeItem(i,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{let i=this.measurementsCache[e];if(!i)return;let s=t-(this.itemSizeCache.get(i.key)??i.size);0!==s&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))})},this.getVirtualItems=s(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{let i=[];for(let s=0,r=e.length;s<r;s++){let r=t[e[s]];i.push(r)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{let t=this.getMeasurements();if(0!==t.length)return r(t[p(0,t.length-1,e=>r(t[e]).start,e)])},this.getOffsetForAlignment=(e,t,i=0)=>{let s=this.getSize(),r=this.getScrollOffset();return"auto"===t&&(t=e>=r+s?"end":"start"),"center"===t?e+=(i-s)/2:"end"===t&&(e-=s),Math.max(Math.min(this.getTotalSize()+this.options.scrollMargin-s,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));let i=this.measurementsCache[e];if(!i)return;let s=this.getSize(),r=this.getScrollOffset();if("auto"===t)if(i.end>=r+s-this.options.scrollPaddingEnd)t="end";else{if(!(i.start<=r+this.options.scrollPaddingStart))return[r,t];t="start"}let n="end"===t?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(n,t,i.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:t="start",behavior:i}={})=>{"smooth"===i&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:i})},this.scrollToIndex=(e,{align:t="auto",behavior:i}={})=>{"smooth"===i&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1));let s=0,r=t=>{if(!this.targetWindow)return;let s=this.getOffsetForIndex(e,t);if(!s)return void console.warn("Failed to get offset for index:",e);let[r,a]=s;this._scrollToOffset(r,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{let t=this.getScrollOffset(),i=this.getOffsetForIndex(e,a);i?1.01>Math.abs(i[0]-t)||n(a):console.warn("Failed to get offset for index:",e)})},n=t=>{this.targetWindow&&(++s<10?this.targetWindow.requestAnimationFrame(()=>r(t)):console.warn(`Failed to scroll to index ${e} after 10 attempts.`))};r(t)},this.scrollBy=(e,{behavior:t}={})=>{"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;let t,i=this.getMeasurements();if(0===i.length)t=this.options.paddingStart;else if(1===this.options.lanes)t=(null==(e=i[i.length-1])?void 0:e.end)??0;else{let e=Array(this.options.lanes).fill(null),s=i.length-1;for(;s>=0&&e.some(e=>null===e);){let t=i[s];null===e[t.lane]&&(e[t.lane]=t.end),s--}t=Math.max(...e.filter(e=>null!==e))}return Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:i})=>{this.options.scrollToFn(e,{behavior:i,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}let p=(e,t,i,s)=>{for(;e<=t;){let r=(e+t)/2|0,n=i(r);if(n<s)e=r+1;else{if(!(n>s))return r;t=r-1}}return e>0?e-1:0},y="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function m(e){return function(e){let s=t.useReducer(()=>({}),{})[1],r={...e,onChange:(t,r)=>{var n;r?(0,i.flushSync)(s):s(),null==(n=e.onChange)||n.call(e,t,r)}},[n]=t.useState(()=>new f(r));return n.setOptions(r),y(()=>n._didMount(),[]),y(()=>n._willUpdate()),n}({getScrollElement:()=>"undefined"!=typeof document?window:null,observeElementRect:l,observeElementOffset:h,scrollToFn:d,initialOffset:()=>"undefined"!=typeof document?window.scrollY:0,...e})}e.s(["useWindowVirtualizer",()=>m],11864)},91737,e=>{"use strict";var t=e.i(93200),i=e.i(98319),s=e.i(11864);let r=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var n=e.g&&e.g.Object===Object&&e.g,a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();let l=function(){return o.Date.now()};var u=/\s/;let h=function(e){for(var t=e.length;t--&&u.test(e.charAt(t)););return t};var c=/^\s+/,d=o.Symbol,f=Object.prototype,p=f.hasOwnProperty,y=f.toString,m=d?d.toStringTag:void 0;let g=function(e){var t=p.call(e,m),i=e[m];try{e[m]=void 0;var s=!0}catch(e){}var r=y.call(e);return s&&(t?e[m]=i:delete e[m]),r};var v=Object.prototype.toString,b=d?d.toStringTag:void 0;let x=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":b&&b in Object(e)?g(e):v.call(e)},w=function(e){return"symbol"==typeof e||null!=e&&"object"==typeof e&&"[object Symbol]"==x(e)};var O=0/0,S=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,M=/^0o[0-7]+$/i,R=parseInt;let E=function(e){if("number"==typeof e)return e;if(w(e))return O;if(r(e)){var t,i="function"==typeof e.valueOf?e.valueOf():e;e=r(i)?i+"":i}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)?t.slice(0,h(t)+1).replace(c,""):t;var s=C.test(e);return s||M.test(e)?R(e.slice(2),s?2:8):S.test(e)?O:+e};var T=Math.max,P=Math.min;let I=function(e,t,i){var s,n,a,o,u,h,c=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var i=s,r=n;return s=n=void 0,c=t,o=e.apply(r,i)}function m(e){var i=e-h,s=e-c;return void 0===h||i>=t||i<0||f&&s>=a}function g(){var e,i,s,r=l();if(m(r))return v(r);u=setTimeout(g,(e=r-h,i=r-c,s=t-e,f?P(s,a-i):s))}function v(e){return(u=void 0,p&&s)?y(e):(s=n=void 0,o)}function b(){var e,i=l(),r=m(i);if(s=arguments,n=this,h=i,r){if(void 0===u)return c=e=h,u=setTimeout(g,t),d?y(e):o;if(f)return clearTimeout(u),u=setTimeout(g,t),y(h)}return void 0===u&&(u=setTimeout(g,t)),o}return t=E(t)||0,r(i)&&(d=!!i.leading,a=(f="maxWait"in i)?T(E(i.maxWait)||0,t):a,p="trailing"in i?!!i.trailing:p),b.cancel=function(){void 0!==u&&clearTimeout(u),c=0,s=h=n=u=void 0},b.flush=function(){return void 0===u?o:v(l())},b},Q=function(e,t,i){var s=!0,n=!0;if("function"!=typeof e)throw TypeError("Expected a function");return r(i)&&(s="leading"in i?!!i.leading:s,n="trailing"in i?!!i.trailing:n),I(e,t,{leading:s,maxWait:t,trailing:n})};var q=e.i(20417);function F({renderRow:e,renderLoading:r,renderError:n,renderNoMore:a,fetchNextPage:o,initialData:l=[],rowHeight:u=200,overscan:h=5}){let c=(0,q.useSearchParams)(),d=(0,i.useRef)(null),f=(0,i.useRef)(new Map),[p,y]=(0,i.useState)(l),[m,g]=(0,i.useState)(1),[v,b]=(0,i.useState)("loading"),x=(0,i.useRef)(new Set([1])),w=p.length+1,O=(0,s.useWindowVirtualizer)({count:w,estimateSize:()=>u,scrollMargin:d.current?.offsetTop||0,overscan:h,measureElement:(e,t,i)=>{let s=i.scrollDirection;if("forward"===s||null===s)return e.getBoundingClientRect().height;{let t=Number(e.getAttribute("data-index"));return i.measurementsCache[t]?.size||e.getBoundingClientRect().height}}}),S=(0,i.useRef)(Q((e,t)=>{x.current.add(t),b("loading"),e(t).then(e=>{e&&0!==e.length?(y(t=>[...t,...e]),g(e=>e+1),e.length>=10?b("loading"):b("noMore")):b("noMore")}).catch(()=>{b("error"),x.current.delete(t)})},500)).current;return(0,i.useEffect)(()=>{y(l),g(2),b("loading"),x.current=new Set([1])},[c.toString()]),(0,i.useEffect)(()=>{if(x.current.has(m))return;let[e]=[...O.getVirtualItems()].reverse();e&&e.index===w-1&&"loading"===v&&S(o,m)},[O.getVirtualItems(),v,m,o,w,S,x]),(0,t.jsx)("div",{ref:d,children:(0,t.jsx)("div",{className:"w-full relative",style:{height:O.getTotalSize()},children:O.getVirtualItems().map(i=>{let s,o;return i.index===w-1?"loading"===v?(o="loading",s=r?r():(0,t.jsx)("div",{className:"flex justify-center py-4",children:(0,t.jsx)("span",{className:"loading loading-bars loading-md"})})):"error"===v?(o="error",s=n?n(()=>b("loading")):(0,t.jsxs)("div",{className:"flex justify-center items-center py-4",children:[(0,t.jsx)("span",{children:"加载失败，请检查网络"}),(0,t.jsx)("button",{className:"btn btn-primary ml-4",onClick:()=>b("loading"),children:"重试"})]})):"noMore"===v&&(o="no-more",s=a?a():(0,t.jsx)("div",{className:"flex justify-center py-4",children:"没有更多数据~"})):(o=i.index,s=e({item:p[i.index],index:i.index})),(0,t.jsx)("div",{"data-index":i.index,ref:e=>{e&&(O.measureElement(e),f.current.set(i.index,e))},className:i.index!==w-1?"border-b border-gray-200":"",style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${i.start-O.options.scrollMargin}px)`},children:s},o)})})})}e.s(["InfiniteWindowList",()=>F,"default",0,F],91737)},28840,32771,31173,59067,84408,47876,89731,15159,20676,1124,12445,82579,e=>{"use strict";let t,i,s,r,n,a;var o=e.i(98319),l=e.i(93200),u=o.createContext(void 0),h=e=>{let t=o.useContext(u);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},c=({client:e,children:t})=>(o.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,l.jsx)(u.Provider,{value:e,children:t}));e.s(["QueryClientProvider",()=>c,"useQueryClient",()=>h],28840),e.i(3553);var d={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},f=new class{#e=d;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}};function p(e){setTimeout(e,0)}e.s(["systemSetTimeoutZero",()=>p,"timeoutManager",()=>f],32771);var y="undefined"==typeof window||"Deno"in globalThis;function m(){}function g(e,t){return"function"==typeof e?e(t):e}function v(e){return"number"==typeof e&&e>=0&&e!==1/0}function b(e,t){return Math.max(e+(t||0)-Date.now(),0)}function x(e,t){return"function"==typeof e?e(t):e}function w(e,t){return"function"==typeof e?e(t):e}function O(e,t){let{type:i="all",exact:s,fetchStatus:r,predicate:n,queryKey:a,stale:o}=e;if(a){if(s){if(t.queryHash!==C(a,t.options))return!1}else if(!R(t.queryKey,a))return!1}if("all"!==i){let e=t.isActive();if("active"===i&&!e||"inactive"===i&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&(!r||r===t.state.fetchStatus)&&(!n||!!n(t))}function S(e,t){let{exact:i,status:s,predicate:r,mutationKey:n}=e;if(n){if(!t.options.mutationKey)return!1;if(i){if(M(t.options.mutationKey)!==M(n))return!1}else if(!R(t.options.mutationKey,n))return!1}return(!s||t.state.status===s)&&(!r||!!r(t))}function C(e,t){return(t?.queryKeyHashFn||M)(e)}function M(e){return JSON.stringify(e,(e,t)=>I(t)?Object.keys(t).sort().reduce((e,i)=>(e[i]=t[i],e),{}):t)}function R(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(i=>R(e[i],t[i]))}var E=Object.prototype.hasOwnProperty;function T(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(e[i]!==t[i])return!1;return!0}function P(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function I(e){if(!Q(e))return!1;let t=e.constructor;if(void 0===t)return!0;let i=t.prototype;return!!Q(i)&&!!i.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function Q(e){return"[object Object]"===Object.prototype.toString.call(e)}function q(e){return new Promise(t=>{f.setTimeout(t,e)})}function F(e,t,i){return"function"==typeof i.structuralSharing?i.structuralSharing(e,t):!1!==i.structuralSharing?function e(t,i){if(t===i)return t;let s=P(t)&&P(i);if(!s&&!(I(t)&&I(i)))return i;let r=(s?t:Object.keys(t)).length,n=s?i:Object.keys(i),a=n.length,o=s?Array(a):{},l=0;for(let u=0;u<a;u++){let a=s?u:n[u],h=t[a],c=i[a];if(h===c){o[a]=h,(s?u<r:E.call(t,a))&&l++;continue}if(null===h||null===c||"object"!=typeof h||"object"!=typeof c){o[a]=c;continue}let d=e(h,c);o[a]=d,d===h&&l++}return r===a&&l===r?t:o}(e,t):t}function j(e,t,i=0){let s=[...e,t];return i&&s.length>i?s.slice(1):s}function D(e,t,i=0){let s=[t,...e];return i&&s.length>i?s.slice(0,-1):s}var A=Symbol();function k(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==A?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}function z(e,t){return"function"==typeof e?e(...t):!!e}e.s(["addToEnd",()=>j,"addToStart",()=>D,"ensureQueryFn",()=>k,"functionalUpdate",()=>g,"hashKey",()=>M,"hashQueryKeyByOptions",()=>C,"isServer",()=>y,"isValidTimeout",()=>v,"matchMutation",()=>S,"matchQuery",()=>O,"noop",()=>m,"partialMatchKey",()=>R,"replaceData",()=>F,"resolveEnabled",()=>w,"resolveStaleTime",()=>x,"shallowEqualObjects",()=>T,"shouldThrowError",()=>z,"skipToken",()=>A,"sleep",()=>q,"timeUntilStale",()=>b],31173);var U=(t=[],i=0,s=e=>{e()},r=e=>{e()},n=p,{batch:e=>{let a;i++;try{a=e()}finally{let e;--i||(e=t,t=[],e.length&&n(()=>{r(()=>{e.forEach(e=>{s(e)})})}))}return a},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a=e=>{i?t.push(e):n(()=>{s(e)})},setNotifyFunction:e=>{s=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{n=e}});e.s(["notifyManager",()=>U],59067);var N=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};e.s(["Subscribable",()=>N],84408);var K=new class extends N{#i;#s;#r;constructor(){super(),this.#r=e=>{if(!y&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#s||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#s?.(),this.#s=void 0)}setEventListener(e){this.#r=e,this.#s?.(),this.#s=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#i!==e&&(this.#i=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#i?this.#i:globalThis.document?.visibilityState!=="hidden"}};e.s(["focusManager",()=>K],47876);var _=new class extends N{#n=!0;#s;#r;constructor(){super(),this.#r=e=>{if(!y&&window.addEventListener){let t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}}}onSubscribe(){this.#s||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#s?.(),this.#s=void 0)}setEventListener(e){this.#r=e,this.#s?.(),this.#s=e(this.setOnline.bind(this))}setOnline(e){this.#n!==e&&(this.#n=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#n}};function W(){let e,t,i=new Promise((i,s)=>{e=i,t=s});function s(e){Object.assign(i,e),delete i.resolve,delete i.reject}return i.status="pending",i.catch(()=>{}),i.resolve=t=>{s({status:"fulfilled",value:t}),e(t)},i.reject=e=>{s({status:"rejected",reason:e}),t(e)},i}function L(e){let t;if(e.then(e=>(t=e,e),m)?.catch(m),void 0!==t)return{data:t}}function B(e){return Math.min(1e3*2**e,3e4)}function H(e){return(e??"online")!=="online"||_.isOnline()}e.s(["onlineManager",()=>_],89731),e.s(["pendingThenable",()=>W,"tryResolveSync",()=>L],15159);var $=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function V(e){let t,i=!1,s=0,r=W(),n=()=>K.isFocused()&&("always"===e.networkMode||_.isOnline())&&e.canRun(),a=()=>H(e.networkMode)&&e.canRun(),o=e=>{"pending"===r.status&&(t?.(),r.resolve(e))},l=e=>{"pending"===r.status&&(t?.(),r.reject(e))},u=()=>new Promise(i=>{t=e=>{("pending"!==r.status||n())&&i(e)},e.onPause?.()}).then(()=>{t=void 0,"pending"===r.status&&e.onContinue?.()}),h=()=>{let t;if("pending"!==r.status)return;let a=0===s?e.initialPromise:void 0;try{t=a??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(o).catch(t=>{if("pending"!==r.status)return;let a=e.retry??3*!y,o=e.retryDelay??B,c="function"==typeof o?o(s,t):o,d=!0===a||"number"==typeof a&&s<a||"function"==typeof a&&a(s,t);i||!d?l(t):(s++,e.onFail?.(s,t),q(c).then(()=>n()?void 0:u()).then(()=>{i?l(t):h()}))})};return{promise:r,status:()=>r.status,cancel:t=>{if("pending"===r.status){let i=new $(t);l(i),e.onCancel?.(i)}},continue:()=>(t?.(),r),cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1},canStart:a,start:()=>(a()?h():u().then(h),r)}}e.s(["CancelledError",()=>$,"canFetch",()=>H,"createRetryer",()=>V],20676);var G=class{#a;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),v(this.gcTime)&&(this.#a=f.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(y?1/0:3e5))}clearGcTimeout(){this.#a&&(f.clearTimeout(this.#a),this.#a=void 0)}};e.s(["Removable",()=>G],1124);var Y=class extends G{#o;#l;#u;#h;#c;#d;#f;constructor(e){super(),this.#f=!1,this.#d=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#h=e.client,this.#u=this.#h.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=Z(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(e){if(this.options={...this.#d,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let e=Z(this.options);void 0!==e.data&&(this.setState(X(e.data,e.dataUpdatedAt)),this.#o=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#u.remove(this)}setData(e,t){let i=F(this.state.data,e,this.options);return this.#p({data:i,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),i}setState(e,t){this.#p({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#c?.promise;return this.#c?.cancel(e),t?t.then(m).catch(m):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some(e=>!1!==w(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===A||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===x(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!b(this.state.dataUpdatedAt,e))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#u.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#c&&(this.#f?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#u.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#p({type:"invalidate"})}async fetch(e,t){let i;if("idle"!==this.state.fetchStatus&&this.#c?.status()!=="rejected"){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let s=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#f=!0,s.signal)})},n=()=>{let e,i=k(this.options,t),s=(r(e={client:this.#h,queryKey:this.queryKey,meta:this.meta}),e);return(this.#f=!1,this.options.persister)?this.options.persister(i,s,this):i(s)},a=(r(i={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#h,state:this.state,fetchFn:n}),i);this.options.behavior?.onFetch(a,this),this.#l=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#p({type:"fetch",meta:a.fetchOptions?.meta}),this.#c=V({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:e=>{e instanceof $&&e.revert&&this.setState({...this.#l,fetchStatus:"idle"}),s.abort()},onFail:(e,t)=>{this.#p({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#p({type:"pause"})},onContinue:()=>{this.#p({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{let e=await this.#c.start();if(void 0===e)throw Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#u.config.onSuccess?.(e,this),this.#u.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof $){if(e.silent)return this.#c.promise;else if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#p({type:"error",error:e}),this.#u.config.onError?.(e,this),this.#u.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#p(e){let t=t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...J(t.data,this.options),fetchMeta:e.meta??null};case"success":let i={...t,...X(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#l=e.manual?i:void 0,i;case"error":let s=e.error;return{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}};this.state=t(this.state),U.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#u.notify({query:this,type:"updated",action:e})})}};function J(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:H(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function X(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Z(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,i=void 0!==t,s=i?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:i?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}function ee(e){return{onFetch:(t,i)=>{let s=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,n=t.state.data?.pages||[],a=t.state.data?.pageParams||[],o={pages:[],pageParams:[]},l=0,u=async()=>{let i=!1,u=k(t.options,t.fetchOptions),h=async(e,s,r)=>{let n;if(i)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);let a=(Object.defineProperty(n={client:t.client,queryKey:t.queryKey,pageParam:s,direction:r?"backward":"forward",meta:t.options.meta},"signal",{enumerable:!0,get:()=>(t.signal.aborted?i=!0:t.signal.addEventListener("abort",()=>{i=!0}),t.signal)}),n),o=await u(a),{maxPages:l}=t.options,h=r?D:j;return{pages:h(e.pages,o,l),pageParams:h(e.pageParams,s,l)}};if(r&&n.length){let e="backward"===r,t={pages:n,pageParams:a},i=(e?ei:et)(s,t);o=await h(t,i,e)}else{let t=e??n.length;do{let e=0===l?a[0]??s.initialPageParam:et(s,o);if(l>0&&null==e)break;o=await h(o,e),l++}while(l<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},i):t.fetchFn=u}}}function et(e,{pages:t,pageParams:i}){let s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,i[s],i):void 0}function ei(e,{pages:t,pageParams:i}){return t.length>0?e.getPreviousPageParam?.(t[0],t,i[0],i):void 0}function es(e,t){return!!t&&null!=et(e,t)}function er(e,t){return!!t&&!!e.getPreviousPageParam&&null!=ei(e,t)}e.s(["Query",()=>Y,"fetchState",()=>J],12445),e.s(["hasNextPage",()=>es,"hasPreviousPage",()=>er,"infiniteQueryBehavior",()=>ee],82579)},45117,e=>{"use strict";let t;var i=e.i(93200),s=e.i(28840);e.i(3553);var r=function(){return null},n=e.i(31173),a=e.i(12445),o=e.i(59067),l=e.i(84408),u=class extends l.Subscribable{constructor(e={}){super(),this.config=e,this.#y=new Map}#y;build(e,t,i){let s=t.queryKey,r=t.queryHash??(0,n.hashQueryKeyByOptions)(s,t),o=this.get(r);return o||(o=new a.Query({client:e,queryKey:s,queryHash:r,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){this.#y.has(e.queryHash)||(this.#y.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#y.get(e.queryHash);t&&(e.destroy(),t===e&&this.#y.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){o.notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#y.get(e)}getAll(){return[...this.#y.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,n.matchQuery)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,n.matchQuery)(e,t)):t}notify(e){o.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){o.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){o.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},h=e.i(1124),c=e.i(20676),d=class extends h.Removable{#h;#m;#g;#c;constructor(e){super(),this.#h=e.client,this.mutationId=e.mutationId,this.#g=e.mutationCache,this.#m=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#m.includes(e)||(this.#m.push(e),this.clearGcTimeout(),this.#g.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#m=this.#m.filter(t=>t!==e),this.scheduleGc(),this.#g.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#m.length||("pending"===this.state.status?this.scheduleGc():this.#g.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#p({type:"continue"})},i={client:this.#h,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#c=(0,c.createRetryer)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#p({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#p({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#g.canRun(this)});let s="pending"===this.state.status,r=!this.#c.canStart();try{if(s)t();else{this.#p({type:"pending",variables:e,isPaused:r}),await this.#g.config.onMutate?.(e,this,i);let t=await this.options.onMutate?.(e,i);t!==this.state.context&&this.#p({type:"pending",context:t,variables:e,isPaused:r})}let n=await this.#c.start();return await this.#g.config.onSuccess?.(n,e,this.state.context,this,i),await this.options.onSuccess?.(n,e,this.state.context,i),await this.#g.config.onSettled?.(n,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(n,null,e,this.state.context,i),this.#p({type:"success",data:n}),n}catch(t){try{throw await this.#g.config.onError?.(t,e,this.state.context,this,i),await this.options.onError?.(t,e,this.state.context,i),await this.#g.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(void 0,t,e,this.state.context,i),t}finally{this.#p({type:"error",error:t})}}finally{this.#g.runNext(this)}}#p(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),o.notifyManager.batch(()=>{this.#m.forEach(t=>{t.onMutationUpdate(e)}),this.#g.notify({mutation:this,type:"updated",action:e})})}},f=l,p=class extends f.Subscribable{constructor(e={}){super(),this.config=e,this.#v=new Set,this.#b=new Map,this.#x=0}#v;#b;#x;build(e,t,i){let s=new d({client:e,mutationCache:this,mutationId:++this.#x,options:e.defaultMutationOptions(t),state:i});return this.add(s),s}add(e){this.#v.add(e);let t=y(e);if("string"==typeof t){let i=this.#b.get(t);i?i.push(e):this.#b.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#v.delete(e)){let t=y(e);if("string"==typeof t){let i=this.#b.get(t);if(i)if(i.length>1){let t=i.indexOf(e);-1!==t&&i.splice(t,1)}else i[0]===e&&this.#b.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=y(e);if("string"!=typeof t)return!0;{let i=this.#b.get(t),s=i?.find(e=>"pending"===e.state.status);return!s||s===e}}runNext(e){let t=y(e);if("string"!=typeof t)return Promise.resolve();{let i=this.#b.get(t)?.find(t=>t!==e&&t.state.isPaused);return i?.continue()??Promise.resolve()}}clear(){o.notifyManager.batch(()=>{this.#v.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#v.clear(),this.#b.clear()})}getAll(){return Array.from(this.#v)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,n.matchMutation)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,n.matchMutation)(e,t))}notify(e){o.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return o.notifyManager.batch(()=>Promise.all(e.map(e=>e.continue().catch(n.noop))))}};function y(e){return e.options.scope?.id}var m=e.i(47876),g=e.i(89731),v=e.i(82579),b=class{#w;#g;#d;#O;#S;#C;#M;#R;constructor(e={}){this.#w=e.queryCache||new u,this.#g=e.mutationCache||new p,this.#d=e.defaultOptions||{},this.#O=new Map,this.#S=new Map,this.#C=0}mount(){this.#C++,1===this.#C&&(this.#M=m.focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#w.onFocus())}),this.#R=g.onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#w.onOnline())}))}unmount(){this.#C--,0===this.#C&&(this.#M?.(),this.#M=void 0,this.#R?.(),this.#R=void 0)}isFetching(e){return this.#w.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#g.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#w.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),i=this.#w.build(this,t),s=i.state.data;return void 0===s?this.fetchQuery(e):(e.revalidateIfStale&&i.isStaleByTime((0,n.resolveStaleTime)(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#w.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,i){let s=this.defaultQueryOptions({queryKey:e}),r=this.#w.get(s.queryHash),a=r?.state.data,o=(0,n.functionalUpdate)(t,a);if(void 0!==o)return this.#w.build(this,s).setData(o,{...i,manual:!0})}setQueriesData(e,t,i){return o.notifyManager.batch(()=>this.#w.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,i)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#w.get(t.queryHash)?.state}removeQueries(e){let t=this.#w;o.notifyManager.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let i=this.#w;return o.notifyManager.batch(()=>(i.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let i={revert:!0,...t};return Promise.all(o.notifyManager.batch(()=>this.#w.findAll(e).map(e=>e.cancel(i)))).then(n.noop).catch(n.noop)}invalidateQueries(e,t={}){return o.notifyManager.batch(()=>(this.#w.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let i={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(o.notifyManager.batch(()=>this.#w.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,i);return i.throwOnError||(t=t.catch(n.noop)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(n.noop)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let i=this.#w.build(this,t);return i.isStaleByTime((0,n.resolveStaleTime)(t.staleTime,i))?i.fetch(t):Promise.resolve(i.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(n.noop).catch(n.noop)}fetchInfiniteQuery(e){return e.behavior=(0,v.infiniteQueryBehavior)(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(n.noop).catch(n.noop)}ensureInfiniteQueryData(e){return e.behavior=(0,v.infiniteQueryBehavior)(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return g.onlineManager.isOnline()?this.#g.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#w}getMutationCache(){return this.#g}getDefaultOptions(){return this.#d}setDefaultOptions(e){this.#d=e}setQueryDefaults(e,t){this.#O.set((0,n.hashKey)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#O.values()],i={};return t.forEach(t=>{(0,n.partialMatchKey)(e,t.queryKey)&&Object.assign(i,t.defaultOptions)}),i}setMutationDefaults(e,t){this.#S.set((0,n.hashKey)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#S.values()],i={};return t.forEach(t=>{(0,n.partialMatchKey)(e,t.mutationKey)&&Object.assign(i,t.defaultOptions)}),i}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#d.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,n.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===n.skipToken&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#d.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#w.clear(),this.#g.clear()}};function x(){return new b({defaultOptions:{queries:{staleTime:6e5},dehydrate:{shouldDehydrateQuery:e=>"success"===e.state.status||"pending"===e.state.status}}})}e.i(15159);let w=(0,e.i(98319).cache)(()=>n.isServer?x():(t||(t=x()),t));function O({children:e}){let t=w();return(0,i.jsxs)(s.QueryClientProvider,{client:t,children:[e,(0,i.jsx)(r,{})]})}e.s(["default",()=>O],45117)},87351,e=>{"use strict";let t;var i=e.i(93200),s=e.i(98319),r=e.i(11864),n=e.i(20417),a=e.i(47876),o=e.i(59067),l=e.i(12445),u=e.i(84408),h=e.i(15159),c=e.i(31173),d=e.i(32771),f=class extends u.Subscribable{constructor(e,t){super(),this.options=t,this.#h=e,this.#E=null,this.#T=(0,h.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#h;#P=void 0;#I=void 0;#Q=void 0;#q;#F;#T;#E;#j;#D;#A;#k;#z;#U;#N=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#P.addObserver(this),p(this.#P,this.options)?this.#K():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return y(this.#P,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return y(this.#P,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#W(),this.#L(),this.#P.removeObserver(this)}setOptions(e){let t=this.options,i=this.#P;if(this.options=this.#h.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,c.resolveEnabled)(this.options.enabled,this.#P))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#B(),this.#P.setOptions(this.options),t._defaulted&&!(0,c.shallowEqualObjects)(this.options,t)&&this.#h.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#P,observer:this});let s=this.hasListeners();s&&m(this.#P,i,this.options,t)&&this.#K(),this.updateResult(),s&&(this.#P!==i||(0,c.resolveEnabled)(this.options.enabled,this.#P)!==(0,c.resolveEnabled)(t.enabled,this.#P)||(0,c.resolveStaleTime)(this.options.staleTime,this.#P)!==(0,c.resolveStaleTime)(t.staleTime,this.#P))&&this.#H();let r=this.#$();s&&(this.#P!==i||(0,c.resolveEnabled)(this.options.enabled,this.#P)!==(0,c.resolveEnabled)(t.enabled,this.#P)||r!==this.#U)&&this.#V(r)}getOptimisticResult(e){var t,i;let s=this.#h.getQueryCache().build(this.#h,e),r=this.createResult(s,e);return t=this,i=r,(0,c.shallowEqualObjects)(t.getCurrentResult(),i)||(this.#Q=r,this.#F=this.options,this.#q=this.#P.state),r}getCurrentResult(){return this.#Q}trackResult(e,t){return new Proxy(e,{get:(e,i)=>(this.trackProp(i),t?.(i),"promise"===i&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#T.status||this.#T.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,i))})}trackProp(e){this.#N.add(e)}getCurrentQuery(){return this.#P}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#h.defaultQueryOptions(e),i=this.#h.getQueryCache().build(this.#h,t);return i.fetch().then(()=>this.createResult(i,t))}fetch(e){return this.#K({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#Q))}#K(e){this.#B();let t=this.#P.fetch(this.options,e);return e?.throwOnError||(t=t.catch(c.noop)),t}#H(){this.#W();let e=(0,c.resolveStaleTime)(this.options.staleTime,this.#P);if(c.isServer||this.#Q.isStale||!(0,c.isValidTimeout)(e))return;let t=(0,c.timeUntilStale)(this.#Q.dataUpdatedAt,e);this.#k=d.timeoutManager.setTimeout(()=>{this.#Q.isStale||this.updateResult()},t+1)}#$(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#P):this.options.refetchInterval)??!1}#V(e){this.#L(),this.#U=e,!c.isServer&&!1!==(0,c.resolveEnabled)(this.options.enabled,this.#P)&&(0,c.isValidTimeout)(this.#U)&&0!==this.#U&&(this.#z=d.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||a.focusManager.isFocused())&&this.#K()},this.#U))}#_(){this.#H(),this.#V(this.#$())}#W(){this.#k&&(d.timeoutManager.clearTimeout(this.#k),this.#k=void 0)}#L(){this.#z&&(d.timeoutManager.clearInterval(this.#z),this.#z=void 0)}createResult(e,t){let i,s=this.#P,r=this.options,n=this.#Q,a=this.#q,o=this.#F,u=e!==s?e.state:this.#I,{state:d}=e,f={...d},y=!1;if(t._optimisticResults){let i=this.hasListeners(),n=!i&&p(e,t),a=i&&m(e,s,t,r);(n||a)&&(f={...f,...(0,l.fetchState)(d.data,e.options)}),"isRestoring"===t._optimisticResults&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:x}=f;i=f.data;let w=!1;if(void 0!==t.placeholderData&&void 0===i&&"pending"===x){let e;n?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(e=n.data,w=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#A?.state.data,this.#A):t.placeholderData,void 0!==e&&(x="success",i=(0,c.replaceData)(n?.data,e,t),y=!0)}if(t.select&&void 0!==i&&!w)if(n&&i===a?.data&&t.select===this.#j)i=this.#D;else try{this.#j=t.select,i=t.select(i),i=(0,c.replaceData)(n?.data,i,t),this.#D=i,this.#E=null}catch(e){this.#E=e}this.#E&&(v=this.#E,i=this.#D,b=Date.now(),x="error");let O="fetching"===f.fetchStatus,S="pending"===x,C="error"===x,M=S&&O,R=void 0!==i,E={status:x,fetchStatus:f.fetchStatus,isPending:S,isSuccess:"success"===x,isError:C,isInitialLoading:M,isLoading:M,data:i,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:O,isRefetching:O&&!S,isLoadingError:C&&!R,isPaused:"paused"===f.fetchStatus,isPlaceholderData:y,isRefetchError:C&&R,isStale:g(e,t),refetch:this.refetch,promise:this.#T,isEnabled:!1!==(0,c.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===E.status?e.reject(E.error):void 0!==E.data&&e.resolve(E.data)},i=()=>{t(this.#T=E.promise=(0,h.pendingThenable)())},r=this.#T;switch(r.status){case"pending":e.queryHash===s.queryHash&&t(r);break;case"fulfilled":("error"===E.status||E.data!==r.value)&&i();break;case"rejected":("error"!==E.status||E.error!==r.reason)&&i()}}return E}updateResult(){let e=this.#Q,t=this.createResult(this.#P,this.options);if(this.#q=this.#P.state,this.#F=this.options,void 0!==this.#q.data&&(this.#A=this.#P),(0,c.shallowEqualObjects)(t,e))return;this.#Q=t;let i=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,i="function"==typeof t?t():t;if("all"===i||!i&&!this.#N.size)return!0;let s=new Set(i??this.#N);return this.options.throwOnError&&s.add("error"),Object.keys(this.#Q).some(t=>this.#Q[t]!==e[t]&&s.has(t))};this.#G({listeners:i()})}#B(){let e=this.#h.getQueryCache().build(this.#h,this.options);if(e===this.#P)return;let t=this.#P;this.#P=e,this.#I=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#G(e){o.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#Q)}),this.#h.getQueryCache().notify({query:this.#P,type:"observerResultsUpdated"})})}};function p(e,t){return!1!==(0,c.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&y(e,t,t.refetchOnMount)}function y(e,t,i){if(!1!==(0,c.resolveEnabled)(t.enabled,e)&&"static"!==(0,c.resolveStaleTime)(t.staleTime,e)){let s="function"==typeof i?i(e):i;return"always"===s||!1!==s&&g(e,t)}return!1}function m(e,t,i,s){return(e!==t||!1===(0,c.resolveEnabled)(s.enabled,e))&&(!i.suspense||"error"!==e.state.status)&&g(e,i)}function g(e,t){return!1!==(0,c.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,c.resolveStaleTime)(t.staleTime,e))}var v=e.i(82579),b=class extends f{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:(0,v.infiniteQueryBehavior)()})}getOptimisticResult(e){return e.behavior=(0,v.infiniteQueryBehavior)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){let{state:i}=e,s=super.createResult(e,t),{isFetching:r,isRefetching:n,isError:a,isRefetchError:o}=s,l=i.fetchMeta?.fetchMore?.direction,u=a&&"forward"===l,h=r&&"forward"===l,c=a&&"backward"===l,d=r&&"backward"===l;return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,v.hasNextPage)(t,i.data),hasPreviousPage:(0,v.hasPreviousPage)(t,i.data),isFetchNextPageError:u,isFetchingNextPage:h,isFetchPreviousPageError:c,isFetchingPreviousPage:d,isRefetchError:o&&!u&&!c,isRefetching:n&&!h&&!d}}};e.i(3553);var x=e.i(28840),w=s.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),O=s.createContext(!1);O.Provider;var S=(e,t,i)=>t.fetchOptimistic(e).catch(()=>{i.clearReset()});function C({queryKey:e,renderRow:t,renderLoading:a,renderError:l,renderNoMore:u,fetchPage:h,initData:d,pageSize:f=10,rowHeight:p=200,overscan:y=5}){let m=(0,n.useSearchParams)(),g=(0,s.useRef)(null),v=(0,s.useRef)(new Map),{data:C,fetchNextPage:M,hasNextPage:R,isFetchingNextPage:E,isFetching:T,status:P,refetch:I}=function(e,t,i){let r=s.useContext(O),n=s.useContext(w),a=(0,x.useQueryClient)(i),l=a.defaultQueryOptions(e);if(a.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=r?"isRestoring":"optimistic",l.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=l.staleTime;l.staleTime="function"==typeof t?(...i)=>e(t(...i)):e(t),"number"==typeof l.gcTime&&(l.gcTime=Math.max(l.gcTime,1e3))}(l.suspense||l.throwOnError||l.experimental_prefetchInRender)&&!n.isReset()&&(l.retryOnMount=!1),s.useEffect(()=>{n.clearReset()},[n]);let u=!a.getQueryCache().get(l.queryHash),[h]=s.useState(()=>new t(a,l)),d=h.getOptimisticResult(l),f=!r&&!1!==e.subscribed;if(s.useSyncExternalStore(s.useCallback(e=>{let t=f?h.subscribe(o.notifyManager.batchCalls(e)):c.noop;return h.updateResult(),t},[h,f]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),s.useEffect(()=>{h.setOptions(l)},[l,h]),l?.suspense&&d.isPending)throw S(l,h,n);if((({result:e,errorResetBoundary:t,throwOnError:i,query:s,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(r&&void 0===e.data||(0,c.shouldThrowError)(i,[e.error,s])))({result:d,errorResetBoundary:n,throwOnError:l.throwOnError,query:a.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if(a.getDefaultOptions().queries?._experimental_afterQuery?.(l,d),l.experimental_prefetchInRender&&!c.isServer&&d.isLoading&&d.isFetching&&!r){let e=u?S(l,h,n):a.getQueryCache().get(l.queryHash)?.promise;e?.catch(c.noop).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?d:h.trackResult(d)}({queryKey:[...e,m.toString()],queryFn:({pageParam:e})=>h(e),initialPageParam:1,getNextPageParam:(e,t,i)=>{if(!(e.length<f))return i+1},getPreviousPageParam:(e,t,i)=>{if(!(i<=1))return i-1},staleTime:3e5,gcTime:18e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1,initialData:d?{pages:[d],pageParams:[1]}:void 0},b,void 0),Q=C?.pages.flat()??[],q=Q.length+1,F=(0,r.useWindowVirtualizer)({count:q,estimateSize:()=>p,scrollMargin:g.current?.offsetTop||0,overscan:y,measureElement:(e,t,i)=>{let s=i.scrollDirection;if("forward"===s||null===s)return e.getBoundingClientRect().height;{let t=Number(e.getAttribute("data-index"));return i.measurementsCache[t]?.size||e.getBoundingClientRect().height}}});return(0,s.useEffect)(()=>{let[e]=[...F.getVirtualItems()].reverse();e&&e.index>=Q.length-1&&R&&!E&&"success"===P&&M()},[F.getVirtualItems(),Q.length,R,E,P,M]),(0,i.jsx)("div",{ref:g,children:(0,i.jsx)("div",{className:"w-full relative",style:{height:F.getTotalSize()},children:F.getVirtualItems().map(e=>{let s=e.index===q-1,r=Q[e.index];return(0,i.jsx)("div",{"data-index":e.index,ref:t=>{t&&(F.measureElement(t),v.current.set(e.index,t))},className:s?"":"border-b border-gray-200",style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${e.start-F.options.scrollMargin}px)`},children:s?T?a?a():(0,i.jsx)("div",{className:"flex justify-center py-8",children:(0,i.jsx)("span",{className:"loading loading-bars loading-lg"})}):"error"===P?l?l(()=>I()):(0,i.jsxs)("div",{className:"flex flex-col items-center py-8 gap-4",children:[(0,i.jsx)("span",{className:"text-error",children:"加载失败，请检查网络"}),(0,i.jsx)("button",{className:"btn btn-primary",onClick:()=>I(),children:"重试"})]}):E?a?a():(0,i.jsx)("div",{className:"flex justify-center py-4",children:(0,i.jsx)("span",{className:"loading loading-bars loading-md"})}):R?null:u?u():(0,i.jsx)("div",{className:"flex justify-center py-4 text-base-content/60",children:"没有更多数据~"}):t({item:r,index:e.index})},s?"bottom-state":e.key)})})})}e.s(["InfiniteWindowList",()=>C,"default",0,C],87351)},72239,e=>{"use strict";e.s([],41955),e.i(41955);var t={value:function(){}};function i(){for(var e,t=0,i=arguments.length,r={};t<i;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new s(r)}function s(e){this._=e}function r(e,i,s){for(var r=0,n=e.length;r<n;++r)if(e[r].name===i){e[r]=t,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=s&&e.push({name:i,value:s}),e}s.prototype=i.prototype={constructor:s,on:function(e,t){var i,s=this._,n=(e+"").trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");if(i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),e&&!s.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),a=-1,o=n.length;if(arguments.length<2){for(;++a<o;)if((i=(e=n[a]).type)&&(i=function(e,t){for(var i,s=0,r=e.length;s<r;++s)if((i=e[s]).name===t)return i.value}(s[i],e.name)))return i;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++a<o;)if(i=(e=n[a]).type)s[i]=r(s[i],e.name,t);else if(null==t)for(i in s)s[i]=r(s[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new s(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var i,s,r=Array(i),n=0;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var s=this._[e],r=0,n=s.length;r<n;++r)s[r].value.apply(t,i)}},e.s(["dispatch",0,i],72239)},68839,(e,t,i)=>{let s=e.r(72239).dispatch,r=Math.PI/180,n={archimedean:c,rectangular:function(e){var t=4*e[0]/e[1],i=0,s=0;return function(e){var r=e<0?-1:1;switch(Math.sqrt(1+4*r*e)-r&3){case 0:i+=t;break;case 1:s+=4;break;case 2:i-=t;break;default:s-=4}return[i,s]}}};function a(e){return e.text}function o(){return"serif"}function l(){return"normal"}function u(e){return Math.sqrt(e.value)}function h(){return 1}function c(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function d(){return document.createElement("canvas")}function f(e){return"function"==typeof e?e:function(){return e}}t.exports=function(){var e=[256,256],t=a,i=o,p=u,y=l,m=l,g=h,v=c,b=[],x=1/0,w=s("word","end"),O=null,S=Math.random,C=()=>(~~(6*S())-3)*30,M={},R=d;return M.canvas=function(e){return arguments.length?(R=f(e),M):R},M.start=function(){let s,n;var a,o=(s=(a=R()).getContext("2d",{willReadFrequently:!0}),a.width=a.height=1,a.width=2048/(n=Math.sqrt(s.getImageData(0,0,1,1).data.length>>2)),a.height=2048/n,s.fillStyle=s.strokeStyle="red",{context:s,ratio:n}),l=function(e){for(var t=[],i=-1;++i<e;)t[i]=0;return t}((e[0]>>5)*e[1]),u=null,h=b.length,c=-1,d=[],f=b.map(function(e,s){return e.text=t.call(this,e,s),e.font=i.call(this,e,s),e.style=y.call(this,e,s),e.weight=m.call(this,e,s),e.rotate=C.call(this,e,s),e.size=~~p.call(this,e,s),e.padding=g.call(this,e,s),e}).sort(function(e,t){return t.size-e.size});return O&&clearInterval(O),O=setInterval(E,0),E(),M;function E(){for(var t=Date.now();Date.now()-t<x&&++c<h&&O;){var i=f[c];i.x=e[0]*(S()+.5)>>1,i.y=e[1]*(S()+.5)>>1,function(e,t,i,s){if(!t.sprite){var n=e.context,a=e.ratio;n.clearRect(0,0,2048/a,2048/a);var o=0,l=0,u=0,h=i.length;for(--s;++s<h;){t=i[s],n.save(),n.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font;let e=n.measureText(t.text),h=-Math.floor(e.width/2),g=(e.width+1)*a,v=t.size<<1;if(t.rotate){var c=Math.sin(t.rotate*r),d=Math.cos(t.rotate*r),f=g*d,p=g*c,y=v*d,m=v*c;g=Math.max(Math.abs(f+m),Math.abs(f-m))+31>>5<<5,v=~~Math.max(Math.abs(p+y),Math.abs(p-y))}else g=g+31>>5<<5;if(v>u&&(u=v),o+g>=2048&&(o=0,l+=u,u=0),l+v>=2048)break;n.translate((o+(g>>1))/a,(l+(v>>1))/a),t.rotate&&n.rotate(t.rotate*r),n.fillText(t.text,h,0),t.padding&&(n.lineWidth=2*t.padding,n.strokeText(t.text,h,0)),n.restore(),t.width=g,t.height=v,t.xoff=o,t.yoff=l,t.x1=g>>1,t.y1=v>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=g}for(var g=n.getImageData(0,0,2048/a,2048/a).data,v=[];--s>=0;)if((t=i[s]).hasText){for(var b=t.width,x=b>>5,w=t.y1-t.y0,O=0;O<w*x;O++)v[O]=0;if(null==(o=t.xoff))return;l=t.yoff;for(var S=0,C=-1,M=0;M<w;M++){for(var O=0;O<b;O++){var R=x*M+(O>>5),E=g[(l+M)*2048+(o+O)<<2]?1<<31-O%32:0;v[R]|=E,S|=E}S?C=M:(t.y0++,w--,M--,l++)}t.y1=t.y0+C,t.sprite=v.slice(0,(t.y1-t.y0)*x)}}}(o,i,f,c),i.hasText&&function(t,i,s){e[0],e[1];for(var r,n,a,o=i.x,l=i.y,u=Math.sqrt(e[0]*e[0]+e[1]*e[1]),h=v(e),c=.5>S()?1:-1,d=-c;(r=h(d+=c))&&!(Math.min(Math.abs(n=~~r[0]),Math.abs(a=~~r[1]))>=u);)if(i.x=o+n,i.y=l+a,!(i.x+i.x0<0)&&!(i.y+i.y0<0)&&!(i.x+i.x1>e[0])&&!(i.y+i.y1>e[1])){if((!s||(f=i,p=s,f.x+f.x1>p[0].x&&f.x+f.x0<p[1].x&&f.y+f.y1>p[0].y&&f.y+f.y0<p[1].y))&&!function(e,t,i){i>>=5;for(var s,r=e.sprite,n=e.width>>5,a=e.x-(n<<4),o=127&a,l=32-o,u=e.y1-e.y0,h=(e.y+e.y0)*i+(a>>5),c=0;c<u;c++){s=0;for(var d=0;d<=n;d++)if((s<<l|(d<n?(s=r[c*n+d])>>>o:0))&t[h+d])return!0;h+=i}return!1}(i,t,e[0])){for(var f,p,y,m=i.sprite,g=i.width>>5,b=e[0]>>5,x=i.x-(g<<4),w=127&x,O=32-w,C=i.y1-i.y0,M=(i.y+i.y0)*b+(x>>5),R=0;R<C;R++){y=0;for(var E=0;E<=g;E++)t[M+E]|=y<<O|(E<g?(y=m[R*g+E])>>>w:0);M+=b}return!0}}return!1}(l,i,u)&&(d.push(i),w.call("word",M,i),u?function(e,t){var i=e[0],s=e[1];t.x+t.x0<i.x&&(i.x=t.x+t.x0),t.y+t.y0<i.y&&(i.y=t.y+t.y0),t.x+t.x1>s.x&&(s.x=t.x+t.x1),t.y+t.y1>s.y&&(s.y=t.y+t.y1)}(u,i):u=[{x:i.x+i.x0,y:i.y+i.y0},{x:i.x+i.x1,y:i.y+i.y1}],i.x-=e[0]>>1,i.y-=e[1]>>1)}c>=h&&(M.stop(),w.call("end",M,d,u))}},M.stop=function(){for(let e of(O&&(clearInterval(O),O=null),b))delete e.sprite;return M},M.timeInterval=function(e){return arguments.length?(x=null==e?1/0:e,M):x},M.words=function(e){return arguments.length?(b=e,M):b},M.size=function(t){return arguments.length?(e=[+t[0],+t[1]],M):e},M.font=function(e){return arguments.length?(i=f(e),M):i},M.fontStyle=function(e){return arguments.length?(y=f(e),M):y},M.fontWeight=function(e){return arguments.length?(m=f(e),M):m},M.rotate=function(e){return arguments.length?(C=f(e),M):C},M.text=function(e){return arguments.length?(t=f(e),M):t},M.spiral=function(e){return arguments.length?(v=n[e]||e,M):v},M.fontSize=function(e){return arguments.length?(p=f(e),M):p},M.padding=function(e){return arguments.length?(g=f(e),M):g},M.random=function(e){return arguments.length?(S=e,M):S},M.on=function(){var e=w.on.apply(w,arguments);return e===w?M:e},M}},73040,e=>{"use strict";var t=e.i(93200),i=e.i(98319),s=e.i(68839);e.s(["default",0,({words:e,width:r=600,height:n=400,minFont:a=12,maxFont:o=48,rotate:l=()=>0,fontFamily:u="sans-serif",color:h=(e,t)=>["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd"][t%5]})=>{let[c,d]=(0,i.useState)([]),f=(0,i.useRef)(!1),p=(0,i.useMemo)(()=>{let t=e.map(e=>e.value),i=Math.min(...t),s=Math.max(...t);return e=>a+(o-a)*(s===i?.5:(e-i)/(s-i))},[e,a,o]);(0,i.useEffect)(()=>e.length?f.current?void 0:(f.current=!0,(0,s.default)().size([r,n]).words(e.map(e=>({text:e.text,size:p(e.value),datum:e}))).padding(2).rotate((e,t)=>l(e.datum,t)).font(u).fontSize(e=>e.size).spiral("archimedean").on("end",e=>{d(e),f.current=!1}).start(),()=>{f.current=!1}):void d([]),[e,r,n,p,l,u]);let y=r/2,m=n/2;return(0,t.jsx)("svg",{width:r,height:n,role:"img","aria-label":"word-cloud",children:(0,t.jsx)("g",{transform:`translate(${y}, ${m})`,children:c.map((e,i)=>(0,t.jsx)("text",{fontFamily:u,fontSize:e.size,fill:h(e.datum,i),textAnchor:"middle",transform:`translate(${e.x}, ${e.y}) rotate(${e.rotate})`,children:e.text},`${e.text}-${i}`))})})}])}]);